{"version":3,"sources":["firebase.js/firebase.js","pages/login/Login.js","context/AuthContext.js","components/chatEngine/ChatEngineComponent.js","components/header/Header.js","pages/chat/Chat.js","App.js","reportWebVitals.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Login","useState","userName","setuserName","password","setpassword","error","seterror","history","useHistory","handleSubmit","e","a","preventDefault","authObject","process","axios","get","headers","localStorage","setItem","setTimeout","push","className","onSubmit","htmlFor","name","type","value","onChange","target","required","align","action","id","onClick","signInWithRedirect","GoogleAuthProvider","size","fill","AuthContext","React","createContext","AuthProvider","children","loading","setLoading","user","setuser","useEffect","onAuthStateChanged","Provider","ChatEngineComponent","userSecret","useContext","localStorageItem","username","getItem","console","log","getfile","url","fetch","response","blob","data","File","email","uid","catch","message","request","formData","FormData","append","photoURL","then","avatar","post","height","projectID","Header","handleLogOut","Chat","signOut","removeItem","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8da53bb.chunk.js","sourcesContent":["import \"firebase/app\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const auth = firebase\r\n  .initializeApp({\r\n    apiKey: \"AIzaSyBz-jk6hJk6G1lAhE4XF_9i95CyKd3R7pE\",\r\n    authDomain: \"strings-44989.firebaseapp.com\",\r\n    projectId: \"strings-44989\",\r\n    storageBucket: \"strings-44989.appspot.com\",\r\n    messagingSenderId: \"1029770477052\",\r\n    appId: \"1:1029770477052:web:388d7423c437c4d82e0679\",\r\n    measurementId: \"G-55DZ6B61X4\",\r\n  })\r\n  .auth();\r\n","import React, { useState } from \"react\";\r\nimport { SiSpringCreators } from \"react-icons/si\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\nimport { MdPersonAddDisabled } from \"react-icons/md\";\r\nimport axios from \"axios\";\r\nimport \"./login.scss\";\r\nimport firebase from \"firebase/compat/app\";\r\n\r\nimport { auth } from \"../../firebase.js/firebase\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Login() {\r\n  const [userName, setuserName] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const authObject = {\r\n      \"Project-ID\": process.env.REACT_APP_STRING_ID,\r\n      \"User-Name\": userName,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      await axios.get(\"https://api.chatengine.io/chats\", {\r\n        headers: authObject,\r\n      });\r\n      localStorage.setItem(\"username\", userName);\r\n      localStorage.setItem(\"password\", password);\r\n      setTimeout(() => {\r\n        history.push(\"/chats\");\r\n      }, 500);\r\n    } catch (error) {\r\n      seterror(\"Opps, in correct credentials\");\r\n      setTimeout(() => {\r\n        seterror(\" \");\r\n      }, 2000);\r\n    }\r\n  };\r\n  return (\r\n    <div className='wrapper'>\r\n      <h1 className='title'>\r\n        String <SiSpringCreators /> Chat\r\n      </h1>\r\n      <form className='form' onSubmit={handleSubmit}>\r\n        <label className='label' htmlFor='username'>\r\n          UserName :\r\n        </label>\r\n        <input\r\n          name='username'\r\n          className='form__input'\r\n          type='text'\r\n          value={userName}\r\n          onChange={(e) => setuserName(e.target.value)}\r\n          required\r\n        />\r\n        <label className='label' htmlFor=''>\r\n          Password :\r\n        </label>\r\n        <input\r\n          name='password'\r\n          className='form__input'\r\n          type='password'\r\n          value={password}\r\n          onChange={(e) => setpassword(e.target.value)}\r\n          required\r\n        />\r\n        <div align='center'>\r\n          <button type='submit' className='btn' onSubmit={handleSubmit}>\r\n            <span>Start Chatting</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <h2>{error}</h2>\r\n\r\n      <div className='signup'>\r\n        <h4> Don't Have an Account ?, Sign Up Below :</h4>\r\n        <form className='signUpForm' action=''>\r\n          <button\r\n            name='google'\r\n            className='button__input'\r\n            type='button'\r\n            id='google'\r\n            onClick={() =>\r\n              auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider())\r\n            }>\r\n            <FcGoogle size={20} /> Sign in with Google\r\n          </button>\r\n\r\n          <button\r\n            name='facebook'\r\n            className='button__input'\r\n            type='button'\r\n            id='facebook'\r\n            onClick={(e) => {\r\n              setuserName(\"guest\");\r\n              setpassword(\"19955\");\r\n              handleSubmit(e);\r\n            }}>\r\n            <MdPersonAddDisabled size={20} fill='blue' /> Login directly as a\r\n            Guest\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { auth } from \"../firebase.js/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setuser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      setuser(user);\r\n      setLoading(false);\r\n      if (user) history.push(\"/chats\");\r\n    });\r\n  }, [user, history]);\r\n\r\n  const value = { user };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ChatEngine } from \"react-chat-engine\";\r\n// import ChatFeed from \"../chatfeed/ChatFeed\";\r\n\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function ChatEngineComponent({ userName, userSecret }) {\r\n  const { user } = useAuth();\r\n  const history = useHistory();\r\n  const localStorageItem = {\r\n    username: localStorage.getItem(\"username\"),\r\n    password: localStorage.getItem(\"password\"),\r\n  };\r\n  console.log(localStorageItem);\r\n  const getfile = async (url) => {\r\n    const response = await fetch(url);\r\n    const data = await response.blob();\r\n\r\n    return new File([data], \"userPhoto.jpg\", { type: \"image/jpeg\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!user && !localStorageItem.username) {\r\n      history.push(\"/\");\r\n      return;\r\n    }\r\n\r\n    if (user) {\r\n      axios\r\n        .get(\"https://api.chatengine.io/users/me\", {\r\n          headers: {\r\n            \"Project-ID\": process.env.REACT_APP_STRING_ID,\r\n            \"User-Name\": user.email,\r\n            \"User-Secret\": user.uid,\r\n          },\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          console.log(error.message);\r\n          console.log(error.request);\r\n          let formData = new FormData();\r\n          formData.append(\"email\", user.email);\r\n          formData.append(\"username\", user.email);\r\n          formData.append(\"secret\", user.uid);\r\n          getfile(user.photoURL).then((avatar) => {\r\n            formData.append(\"avater\", avatar, avatar.name);\r\n\r\n            axios\r\n              .post(\"https://api.chatengine.io/users\", formData, {\r\n                headers: {\r\n                  \"Private-Key\": process.env.REACT_APP_STRING_KEY,\r\n                  \"Project-ID\": process.env.REACT_APP_STRING_ID,\r\n                },\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n              });\r\n          });\r\n        });\r\n    }\r\n\r\n    return () => {};\r\n  }, [user, history, localStorageItem.username]);\r\n  return (\r\n    <ChatEngine\r\n      height='calc(100vh - 50px)'\r\n      projectID={process.env.REACT_APP_STRING_ID}\r\n      userName={\r\n        localStorageItem.username !== null\r\n          ? localStorageItem.username\r\n          : user\r\n          ? user.email\r\n          : \" \"\r\n      }\r\n      userSecret={\r\n        localStorageItem.username !== null\r\n          ? localStorageItem.password\r\n          : user\r\n          ? user.uid\r\n          : \" \"\r\n      }\r\n      // renderChatFeed={(chatAppProps) => <ChatFeed {...chatAppProps} />}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { SiSpringCreators } from \"react-icons/si\";\r\nimport \"./header.scss\";\r\n\r\nexport default function Header({ handleLogOut }) {\r\n  return (\r\n    <div className='header'>\r\n      <h2 className='logo'>\r\n        <SiSpringCreators /> Chat\r\n      </h2>\r\n      <button className='btn' onClick={() => handleLogOut()}>\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ChatEngineComponent from \"../../components/chatEngine/ChatEngineComponent\";\r\nimport Header from \"../../components/header/Header\";\r\nimport { useHistory } from \"react-router\";\r\nimport { auth } from \"../../firebase.js/firebase\";\r\n\r\nexport default function Chat() {\r\n  const history = useHistory();\r\n  const handleLogOut = async () => {\r\n    await auth.signOut();\r\n    history.push(\"/\");\r\n    localStorage.removeItem(\"username\");\r\n    localStorage.removeItem(\"password\");\r\n  };\r\n  return (\r\n    <div className='chat'>\r\n      <Header handleLogOut={handleLogOut} />\r\n      <ChatEngineComponent userName={\"\"} userSecret={\"\"} />\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./pages/login/Login\";\nimport Chat from \"./pages/chat/Chat\";\nimport { AuthProvider } from \"./context/AuthContext\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <Route exact path='/' component={Login} />\n            <Route path='/chats' component={Chat} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}